<!DOCTYPE html>
<html>
  <head>
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="/index">Home</a></li>
        <li class="breadcrumb-item"><a href="/challenges">Challenges</a></li>
        <li class="breadcrumb-item"><a href="/mypage">History</a></li>
        <li class="breadcrumb-item"><a href="/help">Help</a></li>
        <li class="breadcrumb-item"><a href="/users/logout">Logout</a></li>
      </ol>
    </nav>
    <title>Answer</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="../css/index.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  </head>
  <body>
    <div class="page-div">
      <div class="card answer-card-difficulty">
        <div class="card-body" id="difficulty"></div>
      </div>
      <div class="card answer-card-time">
        <div class="card-body" id="remaining"></div>
      </div>
      <div class="card line">
        <div class="card-body"></div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q1"></h4>
          <form id="form-q1" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q1"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-1" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q2"></h4>
          <form id="form-q2" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q2"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-2" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q3"></h4>
          <form id="form-q3" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q3"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-3" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q4"></h4>
          <form id="form-q4" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q4"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-4" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q5"></h4>
          <form id="form-q5" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q5"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-5" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q6"></h4>
          <form id="form-q6" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q6"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-6" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q7"></h4>
          <form id="form-q7" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q7"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-7" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q8"></h4>
          <form id="form-q8" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q8"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-8" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q9"></h4>
          <form id="form-q9" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q9"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-9" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>

      <div class="card answer-card">
        <div class="card-body">
          <h4 id="q10"></h4>
          <form id="form-q10" action="http://localhost:3000/challenges/answer" method="POST">
            <div class="col-md-12">
              <input
                id="result-q10"
                class="form-control"
                type="number"
                name="result"
                placeholder="Answer"
                required
              />
              <div class="invalid-feedback">A resposta não pode ser vazia.</div>
            </div>
            <div class="form-button mt-3">
              <button id="submit-10" type="submit" class="btn btn-dark">
                Send
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </body>
</html>

<script>
  $(document).ready(function () {
    let difficulty = location.href[location.href.length - 1];
    let remaining;
    var answerQ;
    switch (difficulty) {
      case "1":
        difficulty = "easy";
        remaining = "60s";
        break;
      case "2":
        difficulty = "normal";
        remaining = "45s";
        break;
      case "3":
        difficulty = "advanced";
        remaining = "30s";
        break;
      case "4":
        difficulty = "extreme";
        remaining = "20s";
        break;
      default:
        break;
    }
    var contador = 1;
    $.ajax({
      type: "GET",
      url: `http://localhost:3000/challenges/try?difficulty=${difficulty}`,
    }).then((res) => {
      
      res.questions.forEach((data) => {
        $(`#q${contador.toString()}`).text(`${data.n1} * ${data.n2}`);
        contador++;
      });
    });
    $("#difficulty").text(difficulty);
    $("#remaining").text(remaining);
  });


  function getCookie(name) {
  const value = `; ${document.cookie}`;
  const parts = value.split(`; ${name}=`);
  if (parts.length === 2) return parts.pop().split(';').shift();
}
</script>
